System Report Generated by Rustle Deploy
========================================
Report Date: {{ report_timestamp }}
Application Version: {{ app_version }}

System Information
------------------
Hostname: {{ ansible_hostname }}
Operating System: {{ ansible_system }}
Distribution: {{ ansible_distribution | default('N/A') }}
Version: {{ ansible_distribution_version | default(ansible_kernel) }}
Architecture: {{ ansible_architecture }}
Kernel: {{ ansible_kernel }}

Hardware Information
--------------------
CPU Model: {{ ansible_processor[2] | default('Unknown') }}
CPU Cores: {{ ansible_processor_cores }}
CPU Threads: {{ ansible_processor_threads_per_core * ansible_processor_cores }}
Total Memory: {{ ansible_memtotal_mb }} MB
Free Memory: {{ ansible_memfree_mb }} MB
Swap Total: {{ ansible_swaptotal_mb }} MB

Network Configuration
---------------------
{% for interface in ansible_interfaces %}
{% if interface != 'lo' %}
Interface: {{ interface }}
  IPv4: {{ hostvars[inventory_hostname]['ansible_' + interface]['ipv4']['address'] | default('N/A') }}
  MAC: {{ hostvars[inventory_hostname]['ansible_' + interface]['macaddress'] | default('N/A') }}
{% endif %}
{% endfor %}

Disk Usage
----------
{% for mount in ansible_mounts %}
Mount Point: {{ mount.mount }}
  Device: {{ mount.device }}
  Size: {{ mount.size_total | int / 1024 / 1024 / 1024 }} GB
  Available: {{ mount.size_available | int / 1024 / 1024 / 1024 }} GB
  Used: {{ ((mount.size_total - mount.size_available) | int / 1024 / 1024 / 1024) }} GB ({{ 100 - ((mount.size_available / mount.size_total * 100) | int) }}%)
  Filesystem: {{ mount.fstype }}
{% endfor %}

Environment Summary
-------------------
User: {{ ansible_user_id }}
Home Directory: {{ ansible_user_dir }}
Shell: {{ ansible_user_shell }}
Python Version: {{ ansible_python_version }}

{% if ansible_virtualization_type != 'NA' %}
Virtualization
--------------
Type: {{ ansible_virtualization_type }}
Role: {{ ansible_virtualization_role }}
{% endif %}

End of Report